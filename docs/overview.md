# 无障碍图表工具概览

本文档用于快速了解项目提供的能力与模块划分，帮助你在开发或部署前掌握系统的整体形态。

## 核心模块

1. **用户管理**
   - 注册仅需邮箱、账号名与密码，系统保证邮箱与账号名全局唯一。
   - 登录支持邮箱或账号名两种方式，成功后返回 JWT 访问令牌。
   - 已登录用户可在仪表盘侧边栏修改密码并立即生效。
2. **应用与分组体系**
   - 任务以“应用”为顶层维度，可在上传任务时输入新的应用名称，系统会自动创建。
   - 应用内支持多层级分组（目录形式），可新增子分组、重命名或删除整棵子树。
   - 仪表盘左侧列表提供快速筛选入口，便于按应用或分组过滤任务。
3. **任务工作流**
   - 上传图表图片即可创建任务，可附带应用名称、分组和代码模板信息。
   - 仪表盘展示任务列表，支持关键字检索、分页、取消/删除任务，以及编辑任务的标题、应用、分组和模板。
   - 任务详情页展示生成的图表摘要、数据点和表格数据，并支持按模板查看格式化后的输出。
4. **模板管理**
   - 模板分为系统默认与用户自建两类，语言限定为 Java 或 Kotlin。
   - 管理界面支持新增、编辑、复制、删除模板，并内置占位符格式检查。
   - 渲染模板时会自动填充任务的标题、摘要、数据点和表格数据。

## 技术栈

- 后端：Flask、Flask-JWT-Extended、SQLAlchemy
- 前端：Vue 3、Vite、Pinia、Axios
- 任务处理：内置线程队列模拟图表分析流程
- 数据库存储：默认 SQLite，可通过环境变量切换到 MySQL

## 启动顺序

1. 启动 Flask 后端（`flask --app app:create_app run`），自动初始化数据库并启动后台线程。
2. 启动前端（`npm run dev`），通过代理访问后端 `/api` 接口。
3. 打开 `http://localhost:5173`（或控制台提示的端口），使用浏览器体验完整流程。

## 目录结构

- `backend/`：Flask 应用、模型、蓝图、后台线程与工具函数。
- `frontend/`：Vue 3 单页应用的组件、状态与路由配置。
- `docs/`：项目说明文档与实现细节。

## 下一步可以做什么？

- 如需接入真实的图表分析服务，可替换 `backend/utils/chart_processing.py` 中的模拟逻辑。
- 若想扩展更多输出格式，可以在模板占位符中增加字段，并在任务结果表中同步存储。
- 如果要部署到生产环境，建议接入数据库迁移工具（如 Alembic）并使用对象存储替换本地文件系统。
